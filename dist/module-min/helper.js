import Mikado from"./mikado.js";Mikado.prototype.move=Mikado.prototype.moveTo=function(a,b){let c;return"number"==typeof a?(c=a,a=this.dom[c]):c=this.index(a),0>b&&(b=this.length+b-1),c!==b&&this.shift(a,b-c),this},Mikado.prototype.shift=Mikado.prototype.shiftBy=function(c,d){if(!d)return this;let e;"number"==typeof c?(e=c,c=this.dom[c]):e=this.index(c);const f=0>d;if(f&&e||!f&&e<this.length-1){const a=f?Math.max(e+d,0):Math.min(e+d,this.length-1),g=this.dom[a],b=f&&1<e-a||!f&&1<a-e;if(this.root.insertBefore(c,f?g:this.dom[a+1]||null),b){const b=this.dom[e];let c;if(f)for(let b=e;b>a;b--)this.dom[b]=c=this.dom[b-1];else for(let b=e;b<a;b++)this.dom[b]=c=this.dom[b+1];this.dom[a]=c=b}else this.dom[e]=g,this.dom[a]=c}return this},Mikado.prototype.up=function(b,a){return(!a||0<a)&&this.shift(b,-(a||1)),this},Mikado.prototype.down=function(b,a){return(!a||0<a)&&this.shift(b,a||1),this},Mikado.prototype.first=function(b){return this.shift(b,-this.length)},Mikado.prototype.last=function(b){return this.shift(b,this.length)},Mikado.prototype.before=function(a,b){return"number"!=typeof a&&(a=this.index(a)),"number"!=typeof b&&(b=this.index(b)),b!==a+1&&(0>b&&(b=this.length+b,0>a&&b--),0>a&&(a=this.length+a-1),this.shift(a,b-a-1)),this},Mikado.prototype.after=function(a,b){return"number"!=typeof a&&(a=this.index(a)),"number"!=typeof b&&(b=this.index(b)),b!==a-1&&(0>b&&(b=this.length+b-2,0>a&&b++),0>a&&(a=this.length+a-1),this.shift(a,b-a+1)),this},Mikado.prototype.swap=function(c,d){if(c!==d){let a,b;"number"==typeof c?(a=0>c?this.length+c:c,c=this.dom[a]):a=this.index(c),"number"==typeof d?(b=0>d?this.length+d:d,d=this.dom[b]):b=this.index(d);const e=a+1!==b;this.root.insertBefore(e?c:d,e?d:c),e&&b+1!==a&&this.root.insertBefore(d,this.dom[a+1]||null),this.dom[a]=d,this.dom[b]=c}return this};